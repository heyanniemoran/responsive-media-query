{"version":3,"file":"index.js","sources":["../src/index.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nexport default function useMediaQuery(obj: { query: string }) {\n  const [state, setState] = useState(() => window.matchMedia(obj.query).matches);\n\n  useEffect(() => {\n    const mql = window.matchMedia(obj.query);\n    function handler(e: MediaQueryListEvent) {\n      setState(e.matches);\n    }\n    mql.addEventListener('change', handler);\n    return () => {\n      mql.removeEventListener('change', handler);\n    };\n  }, [obj.query]);\n\n  return state;\n}\n\ninterface MediaProps {\n  orientation?: string;\n  minWidth?: number;\n  maxWidth?: number;\n  minHeight?: number;\n  maxHeight?: number;\n  // minResolution?: number | `${number}dppx`;\n  minResolution?: number | string;\n  // maxResolution?: number | `${number}dppx`;\n  maxResolution?: number | string;\n  children: React.ReactNode | ((matches: boolean) => React.ReactNode);\n}\n\nexport function MediaQuery(props: MediaProps) {\n  const query_array: string[] = [];\n\n  function add(field: string, value: string | number | undefined, suffix?: string) {\n    if (value) query_array.push(`(${field}: ${value}${suffix})`);\n  }\n  add('orientation', props.orientation);\n  add('min-width', props.minWidth, 'px');\n  add('max-width', props.maxWidth, 'px');\n  add('min-height', props.minHeight, 'px');\n  add('max-height', props.maxHeight, 'px');\n  add('min-resolution', typeof props.minResolution === 'string' ? props.minResolution : props.minResolution + 'dppx');\n  add('max-resolution', typeof props.maxResolution === 'string' ? props.maxResolution : props.maxResolution + 'dppx');\n\n  const query = query_array.join(' and ');\n  const matches = useMediaQuery({ query: query });\n\n  if (typeof props.children == 'function') return <div>{props.children(matches)}</div>;\n\n  if (!matches) return null;\n  return <div>{props.children}</div>;\n}\n"],"names":["useMediaQuery","obj","useState","window","matchMedia","query","matches","state","setState","useEffect","mql","handler","e","addEventListener","removeEventListener","MediaQuery","props","query_array","add","field","value","suffix","push","orientation","minWidth","maxWidth","minHeight","maxHeight","minResolution","maxResolution","join","children","React"],"mappings":";;;;;SAEwBA,cAAcC;EACpC,gBAA0BC,cAAQ,CAAC;IAAA,OAAMC,MAAM,CAACC,UAAP,CAAkBH,GAAG,CAACI,KAAtB,EAA6BC,OAAnC;GAAD,CAAlC;MAAOC,KAAP;MAAcC,QAAd;;EAEAC,eAAS,CAAC;IACR,IAAMC,GAAG,GAAGP,MAAM,CAACC,UAAP,CAAkBH,GAAG,CAACI,KAAtB,CAAZ;;IACA,SAASM,OAAT,CAAiBC,CAAjB;MACEJ,QAAQ,CAACI,CAAC,CAACN,OAAH,CAAR;;;IAEFI,GAAG,CAACG,gBAAJ,CAAqB,QAArB,EAA+BF,OAA/B;IACA,OAAO;MACLD,GAAG,CAACI,mBAAJ,CAAwB,QAAxB,EAAkCH,OAAlC;KADF;GANO,EASN,CAACV,GAAG,CAACI,KAAL,CATM,CAAT;EAWA,OAAOE,KAAP;AACD;SAeeQ,WAAWC;EACzB,IAAMC,WAAW,GAAa,EAA9B;;EAEA,SAASC,GAAT,CAAaC,KAAb,EAA4BC,KAA5B,EAAgEC,MAAhE;IACE,IAAID,KAAJ,EAAWH,WAAW,CAACK,IAAZ,OAAqBH,KAArB,UAA+BC,KAA/B,GAAuCC,MAAvC;;;EAEbH,GAAG,CAAC,aAAD,EAAgBF,KAAK,CAACO,WAAtB,CAAH;EACAL,GAAG,CAAC,WAAD,EAAcF,KAAK,CAACQ,QAApB,EAA8B,IAA9B,CAAH;EACAN,GAAG,CAAC,WAAD,EAAcF,KAAK,CAACS,QAApB,EAA8B,IAA9B,CAAH;EACAP,GAAG,CAAC,YAAD,EAAeF,KAAK,CAACU,SAArB,EAAgC,IAAhC,CAAH;EACAR,GAAG,CAAC,YAAD,EAAeF,KAAK,CAACW,SAArB,EAAgC,IAAhC,CAAH;EACAT,GAAG,CAAC,gBAAD,EAAmB,OAAOF,KAAK,CAACY,aAAb,KAA+B,QAA/B,GAA0CZ,KAAK,CAACY,aAAhD,GAAgEZ,KAAK,CAACY,aAAN,GAAsB,MAAzG,CAAH;EACAV,GAAG,CAAC,gBAAD,EAAmB,OAAOF,KAAK,CAACa,aAAb,KAA+B,QAA/B,GAA0Cb,KAAK,CAACa,aAAhD,GAAgEb,KAAK,CAACa,aAAN,GAAsB,MAAzG,CAAH;EAEA,IAAMxB,KAAK,GAAGY,WAAW,CAACa,IAAZ,CAAiB,OAAjB,CAAd;EACA,IAAMxB,OAAO,GAAGN,aAAa,CAAC;IAAEK,KAAK,EAAEA;GAAV,CAA7B;EAEA,IAAI,OAAOW,KAAK,CAACe,QAAb,IAAyB,UAA7B,EAAyC,OAAOC,4BAAA,MAAA,MAAA,EAAMhB,KAAK,CAACe,QAAN,CAAezB,OAAf,CAAN,CAAP;EAEzC,IAAI,CAACA,OAAL,EAAc,OAAO,IAAP;EACd,OAAO0B,4BAAA,MAAA,MAAA,EAAMhB,KAAK,CAACe,QAAZ,CAAP;AACD;;;;;"}