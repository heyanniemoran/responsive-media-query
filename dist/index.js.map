{"version":3,"file":"index.js","sources":["../src/index.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nexport default function useMediaQuery(obj: { query: string }) {\n  const [state, setState] = useState(() => window.matchMedia(obj.query).matches);\n\n  useEffect(() => {\n    const mql = window.matchMedia(obj.query);\n    function handler(e: MediaQueryListEvent) {\n      setState(e.matches);\n    }\n    mql.addEventListener('change', handler);\n    return () => {\n      mql.removeEventListener('change', handler);\n    };\n  }, [obj.query]);\n\n  return state;\n}\n\ninterface MediaProps {\n  orientation?: string;\n  minWidth?: number;\n  maxWidth?: number;\n  minHeight?: number;\n  maxHeight?: number;\n  // minResolution?: number | `${number}dppx`;\n  minResolution?: number | string;\n  // maxResolution?: number | `${number}dppx`;\n  maxResolution?: number | string;\n  children: React.ReactNode | ((matches: boolean) => React.ReactNode);\n}\n\nexport function MediaQuery({ children, ...props }: MediaProps) {\n  const query = Object.entries(props)\n    .map(([key, value]) => {\n      const condition: string = key\n        .split('')\n        .map((letter: string, idx: number) => {\n          return letter === letter.toUpperCase()\n            ? idx === 0\n              ? letter.toLowerCase()\n              : '-' + letter.toLowerCase()\n            : letter;\n        })\n        .join('');\n      switch (condition) {\n        case 'orientation':\n          return '(' + condition + ': ' + value + ')';\n        case 'min-resolution':\n        case 'max-resolution':\n          return '(' + condition + ': ' + (typeof value === 'string' ? value : value + 'dppx') + ')';\n        default:\n          return '(' + condition + ': ' + value + 'px)';\n      }\n    })\n    .join(' and ');\n  const matches = useMediaQuery({ query: query });\n\n  if (typeof children === 'function') return <div>{children(matches)}</div>;\n\n  if (!matches) return null;\n  return <div>{children}</div>;\n}\n"],"names":["useMediaQuery","obj","useState","window","matchMedia","query","matches","state","setState","useEffect","mql","handler","e","addEventListener","removeEventListener","MediaQuery","children","props","Object","entries","map","key","value","condition","split","letter","idx","toUpperCase","toLowerCase","join","React"],"mappings":";;;;;;;;;;;;;;;;;;;;;SAEwBA,cAAcC;EACpC,gBAA0BC,cAAQ,CAAC;IAAA,OAAMC,MAAM,CAACC,UAAP,CAAkBH,GAAG,CAACI,KAAtB,EAA6BC,OAAnC;GAAD,CAAlC;MAAOC,KAAP;MAAcC,QAAd;;EAEAC,eAAS,CAAC;IACR,IAAMC,GAAG,GAAGP,MAAM,CAACC,UAAP,CAAkBH,GAAG,CAACI,KAAtB,CAAZ;;IACA,SAASM,OAAT,CAAiBC,CAAjB;MACEJ,QAAQ,CAACI,CAAC,CAACN,OAAH,CAAR;;;IAEFI,GAAG,CAACG,gBAAJ,CAAqB,QAArB,EAA+BF,OAA/B;IACA,OAAO;MACLD,GAAG,CAACI,mBAAJ,CAAwB,QAAxB,EAAkCH,OAAlC;KADF;GANO,EASN,CAACV,GAAG,CAACI,KAAL,CATM,CAAT;EAWA,OAAOE,KAAP;AACD;SAeeQ;MAAaC,gBAAAA;MAAaC;;EACxC,IAAMZ,KAAK,GAAGa,MAAM,CAACC,OAAP,CAAeF,KAAf,EACXG,GADW,CACP;QAAEC;QAAKC;IACV,IAAMC,SAAS,GAAWF,GAAG,CAC1BG,KADuB,CACjB,EADiB,EAEvBJ,GAFuB,CAEnB,UAACK,MAAD,EAAiBC,GAAjB;MACH,OAAOD,MAAM,KAAKA,MAAM,CAACE,WAAP,EAAX,GACHD,GAAG,KAAK,CAAR,GACED,MAAM,CAACG,WAAP,EADF,GAEE,MAAMH,MAAM,CAACG,WAAP,EAHL,GAIHH,MAJJ;KAHsB,EASvBI,IATuB,CASlB,EATkB,CAA1B;;IAUA,QAAQN,SAAR;MACE,KAAK,aAAL;QACE,OAAO,MAAMA,SAAN,GAAkB,IAAlB,GAAyBD,KAAzB,GAAiC,GAAxC;;MACF,KAAK,gBAAL;MACA,KAAK,gBAAL;QACE,OAAO,MAAMC,SAAN,GAAkB,IAAlB,IAA0B,OAAOD,KAAP,KAAiB,QAAjB,GAA4BA,KAA5B,GAAoCA,KAAK,GAAG,MAAtE,IAAgF,GAAvF;;MACF;QACE,OAAO,MAAMC,SAAN,GAAkB,IAAlB,GAAyBD,KAAzB,GAAiC,KAAxC;;GAnBM,EAsBXO,IAtBW,CAsBN,OAtBM,CAAd;EAuBA,IAAMvB,OAAO,GAAGN,aAAa,CAAC;IAAEK,KAAK,EAAEA;GAAV,CAA7B;EAEA,IAAI,OAAOW,QAAP,KAAoB,UAAxB,EAAoC,OAAOc,4BAAA,MAAA,MAAA,EAAMd,QAAQ,CAACV,OAAD,CAAd,CAAP;EAEpC,IAAI,CAACA,OAAL,EAAc,OAAO,IAAP;EACd,OAAOwB,4BAAA,MAAA,MAAA,EAAMd,QAAN,CAAP;AACD;;;;;"}