{"version":3,"file":"index.js","sources":["../src/index.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nexport default function useMediaQuery(obj: { query: string }) {\n  const [state, setState] = useState(() => window.matchMedia(obj.query).matches);\n\n  useEffect(() => {\n    const mql = window.matchMedia(obj.query);\n    function handler(e: MediaQueryListEvent) {\n      setState(e.matches);\n    }\n    mql.addEventListener('change', handler);\n    return () => {\n      mql.removeEventListener('change', handler);\n    };\n  }, [obj.query]);\n\n  return state;\n}\n\ninterface MediaProps {\n  orientation?: string;\n  minWidth?: number;\n  maxWidth?: number;\n  minHeight?: number;\n  maxHeight?: number;\n  minResolution?: number | `${number}dppx`;\n  // minResolution?: number | string;\n  maxResolution?: number | `${number}dppx`;\n  // maxResolution?: number | string;\n  children: React.ReactNode | ((matches: boolean) => React.ReactNode);\n}\n\nexport function MediaQuery({ children, ...props }: MediaProps) {\n  const query = Object.entries(props)\n    .map(([key, value]) => {\n      const condition: string = key\n        .split('')\n        .map((letter: string, idx: number) => {\n          return letter === letter.toUpperCase()\n            ? idx === 0\n              ? letter.toLowerCase()\n              : '-' + letter.toLowerCase()\n            : letter;\n        })\n        .join('');\n      switch (condition) {\n        case 'orientation':\n          return '(' + condition + ': ' + value + ')';\n        case 'min-resolution':\n        case 'max-resolution':\n          return '(' + condition + ': ' + (typeof value === 'string' ? value : value + 'dppx') + ')';\n        default:\n          return '(' + condition + ': ' + value + 'px)';\n      }\n    })\n    .join(' and ');\n  const matches = useMediaQuery({ query: query });\n\n  if (typeof children === 'function') return <div>{children(matches)}</div>;\n\n  if (!matches) return null;\n  return <div>{children}</div>;\n}\n"],"names":["useMediaQuery","obj","useState","window","matchMedia","query","matches","state","setState","useEffect","mql","handler","e","addEventListener","removeEventListener","MediaQuery","children","props","Object","entries","map","key","value","condition","split","letter","idx","toUpperCase","toLowerCase","join","React","createElement"],"mappings":"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"}