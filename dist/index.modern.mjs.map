{"version":3,"file":"index.modern.mjs","sources":["../src/index.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nexport default function useMediaQuery(obj: { query: string }) {\n  const [state, setState] = useState(() => window.matchMedia(obj.query).matches);\n\n  useEffect(() => {\n    const mql = window.matchMedia(obj.query);\n    function handler(e: MediaQueryListEvent) {\n      setState(e.matches);\n    }\n    mql.addEventListener('change', handler);\n    return () => {\n      mql.removeEventListener('change', handler);\n    };\n  }, [obj.query]);\n\n  return state;\n}\n\ninterface MediaProps {\n  orientation?: string;\n  minWidth?: number;\n  maxWidth?: number;\n  minHeight?: number;\n  maxHeight?: number;\n  minResolution?: number | `${number}dppx`;\n  // minResolution?: number | string;\n  maxResolution?: number | `${number}dppx`;\n  // maxResolution?: number | string;\n  children: React.ReactNode | ((matches: boolean) => React.ReactNode);\n}\n\nexport function MediaQuery({ children, ...props }: MediaProps) {\n  const query = Object.entries(props)\n    .map(([key, value]) => {\n      const condition: string = key\n        .split('')\n        .map((letter: string, idx: number) => {\n          return letter === letter.toUpperCase()\n            ? idx === 0\n              ? letter.toLowerCase()\n              : '-' + letter.toLowerCase()\n            : letter;\n        })\n        .join('');\n      switch (condition) {\n        case 'orientation':\n          return '(' + condition + ': ' + value + ')';\n        case 'min-resolution':\n        case 'max-resolution':\n          return '(' + condition + ': ' + (typeof value === 'string' ? value : value + 'dppx') + ')';\n        default:\n          return '(' + condition + ': ' + value + 'px)';\n      }\n    })\n    .join(' and ');\n  const matches = useMediaQuery({ query: query });\n\n  if (typeof children === 'function') return <div>{children(matches)}</div>;\n\n  if (!matches) return null;\n  return <div>{children}</div>;\n}\n"],"names":["useMediaQuery","obj","state","setState","useState","window","matchMedia","query","matches","useEffect","mql","handler","e","addEventListener","removeEventListener","MediaQuery","children","props","Object","entries","map","key","value","condition","split","letter","idx","toUpperCase","toLowerCase","join","React","createElement"],"mappings":";;;;;;;;;;;;;;;;;;AAEwB,SAAAA,aAAA,CAAcC,GAAd,EAAoC;AAC1D,EAAA,MAAM,CAACC,KAAD,EAAQC,QAAR,CAAA,GAAoBC,QAAQ,CAAC,MAAMC,MAAM,CAACC,UAAP,CAAkBL,GAAG,CAACM,KAAtB,CAAA,CAA6BC,OAApC,CAAlC,CAAA;AAEAC,EAAAA,SAAS,CAAC,MAAK;IACb,MAAMC,GAAG,GAAGL,MAAM,CAACC,UAAP,CAAkBL,GAAG,CAACM,KAAtB,CAAZ,CAAA;;IACA,SAASI,OAAT,CAAiBC,CAAjB,EAAuC;AACrCT,MAAAA,QAAQ,CAACS,CAAC,CAACJ,OAAH,CAAR,CAAA;AACD,KAAA;;AACDE,IAAAA,GAAG,CAACG,gBAAJ,CAAqB,QAArB,EAA+BF,OAA/B,CAAA,CAAA;AACA,IAAA,OAAO,MAAK;AACVD,MAAAA,GAAG,CAACI,mBAAJ,CAAwB,QAAxB,EAAkCH,OAAlC,CAAA,CAAA;KADF,CAAA;AAGD,GATQ,EASN,CAACV,GAAG,CAACM,KAAL,CATM,CAAT,CAAA;AAWA,EAAA,OAAOL,KAAP,CAAA;AACD,CAAA;AAeK,SAAUa,UAAV,CAAuD,IAAA,EAAA;EAAA,IAAlC;AAAEC,IAAAA,QAAAA;GAAgC,GAAA,IAAA;AAAA,MAAnBC,KAAmB,GAAA,6BAAA,CAAA,IAAA,EAAA,SAAA,CAAA,CAAA;;AAC3D,EAAA,MAAMV,KAAK,GAAGW,MAAM,CAACC,OAAP,CAAeF,KAAf,CAAA,CACXG,GADW,CACP,CAAC,CAACC,GAAD,EAAMC,KAAN,CAAD,KAAiB;AACpB,IAAA,MAAMC,SAAS,GAAWF,GAAG,CAC1BG,KADuB,CACjB,EADiB,CAEvBJ,CAAAA,GAFuB,CAEnB,CAACK,MAAD,EAAiBC,GAAjB,KAAgC;MACnC,OAAOD,MAAM,KAAKA,MAAM,CAACE,WAAP,EAAX,GACHD,GAAG,KAAK,CAAR,GACED,MAAM,CAACG,WAAP,EADF,GAEE,GAAA,GAAMH,MAAM,CAACG,WAAP,EAHL,GAIHH,MAJJ,CAAA;AAKD,KARuB,CASvBI,CAAAA,IATuB,CASlB,EATkB,CAA1B,CAAA;;AAUA,IAAA,QAAQN,SAAR;AACE,MAAA,KAAK,aAAL;AACE,QAAA,OAAO,MAAMA,SAAN,GAAkB,IAAlB,GAAyBD,KAAzB,GAAiC,GAAxC,CAAA;;AACF,MAAA,KAAK,gBAAL,CAAA;AACA,MAAA,KAAK,gBAAL;AACE,QAAA,OAAO,MAAMC,SAAN,GAAkB,IAAlB,IAA0B,OAAOD,KAAP,KAAiB,QAAjB,GAA4BA,KAA5B,GAAoCA,KAAK,GAAG,MAAtE,IAAgF,GAAvF,CAAA;;AACF,MAAA;AACE,QAAA,OAAO,MAAMC,SAAN,GAAkB,IAAlB,GAAyBD,KAAzB,GAAiC,KAAxC,CAAA;AAPJ,KAAA;AASD,GArBW,CAsBXO,CAAAA,IAtBW,CAsBN,OAtBM,CAAd,CAAA;EAuBA,MAAMrB,OAAO,GAAGR,aAAa,CAAC;AAAEO,IAAAA,KAAK,EAAEA,KAAAA;AAAT,GAAD,CAA7B,CAAA;AAEA,EAAA,IAAI,OAAOS,QAAP,KAAoB,UAAxB,EAAoC,OAAOc,mBAAA,MAAA,MAAA,EAAMd,QAAQ,CAACR,OAAD,CAAd,CAAP,CAAA;AAEpC,EAAA,IAAI,CAACA,OAAL,EAAc,OAAO,IAAP,CAAA;EACd,OAAOsB,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA,IAAA,EAAMf,QAAN,CAAP,CAAA;AACD;;;;"}