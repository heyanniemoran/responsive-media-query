{"version":3,"file":"index.modern.js","sources":["../src/index.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nexport default function useMediaQuery(obj: { query: string }) {\n  const [state, setState] = useState(() => window.matchMedia(obj.query).matches);\n\n  useEffect(() => {\n    const mql = window.matchMedia(obj.query);\n    function handler(e: MediaQueryListEvent) {\n      setState(e.matches);\n    }\n    mql.addEventListener('change', handler);\n    return () => {\n      mql.removeEventListener('change', handler);\n    };\n  }, [obj.query]);\n\n  return state;\n}\n\ninterface MediaProps {\n  orientation?: string;\n  minWidth?: number;\n  maxWidth?: number;\n  minHeight?: number;\n  maxHeight?: number;\n  // minResolution?: number | `${number}dppx`;\n  minResolution?: number | string;\n  // maxResolution?: number | `${number}dppx`;\n  maxResolution?: number | string;\n  children: React.ReactNode | ((matches: boolean) => React.ReactNode);\n}\n\nexport function MediaQuery(props: MediaProps) {\n  function getCondition(key: string, value: string) {\n    switch (key) {\n      case 'orientation':\n        return `(orientation: ${value})`;\n      case 'minWidth':\n        return `(min-width: ${value}px)`;\n      case 'maxWidth':\n        return `(max-width: ${value}px)`;\n      case 'minHeight':\n        return `(min-height: ${value}px)`;\n      case 'maxHeight':\n        return `(max-height: ${value}px)`;\n      case 'minResolution':\n        return `(min-resolution: ${typeof value === 'string' ? value : value + 'dppx'})`;\n      case 'maxResolution':\n        return `(max-resolution: ${typeof value === 'string' ? value : value + 'dppx'})`;\n      default:\n        throw new Error('props not found');\n    }\n  }\n\n  const query = Object.entries(props)\n    .filter(([key]) => key !== 'children')\n    .map(([key, value]) => `${getCondition(key, value)}`)\n    .join(' and ');\n  const matches = useMediaQuery({ query: query });\n\n  if (typeof props.children == 'function') return <div>{props.children(matches)}</div>;\n\n  if (!matches) return null;\n  return <div>{props.children}</div>;\n}\n"],"names":["useMediaQuery","obj","useState","window","matchMedia","query","matches","state","setState","useEffect","mql","handler","e","addEventListener","removeEventListener","MediaQuery","props","getCondition","key","value","Error","Object","entries","filter","map","join","children","React"],"mappings":";;SAEwBA,cAAcC;EACpC,gBAA0BC,QAAQ,CAAC;IAAA,OAAMC,MAAM,CAACC,UAAP,CAAkBH,GAAG,CAACI,KAAtB,EAA6BC,OAAnC;GAAD,CAAlC;MAAOC,KAAP;MAAcC,QAAd;;EAEAC,SAAS,CAAC;IACR,IAAMC,GAAG,GAAGP,MAAM,CAACC,UAAP,CAAkBH,GAAG,CAACI,KAAtB,CAAZ;;IACA,SAASM,OAAT,CAAiBC,CAAjB;MACEJ,QAAQ,CAACI,CAAC,CAACN,OAAH,CAAR;;;IAEFI,GAAG,CAACG,gBAAJ,CAAqB,QAArB,EAA+BF,OAA/B;IACA,OAAO;MACLD,GAAG,CAACI,mBAAJ,CAAwB,QAAxB,EAAkCH,OAAlC;KADF;GANO,EASN,CAACV,GAAG,CAACI,KAAL,CATM,CAAT;EAWA,OAAOE,KAAP;AACD;SAeeQ,WAAWC;EACzB,SAASC,YAAT,CAAsBC,GAAtB,EAAmCC,KAAnC;IACE,QAAQD,GAAR;MACE,KAAK,aAAL;QACE,0BAAwBC,KAAxB;;MACF,KAAK,UAAL;QACE,wBAAsBA,KAAtB;;MACF,KAAK,UAAL;QACE,wBAAsBA,KAAtB;;MACF,KAAK,WAAL;QACE,yBAAuBA,KAAvB;;MACF,KAAK,WAAL;QACE,yBAAuBA,KAAvB;;MACF,KAAK,eAAL;QACE,8BAA2B,OAAOA,KAAP,KAAiB,QAAjB,GAA4BA,KAA5B,GAAoCA,KAAK,GAAG,MAAvE;;MACF,KAAK,eAAL;QACE,8BAA2B,OAAOA,KAAP,KAAiB,QAAjB,GAA4BA,KAA5B,GAAoCA,KAAK,GAAG,MAAvE;;MACF;QACE,MAAM,IAAIC,KAAJ,CAAU,iBAAV,CAAN;;;;EAIN,IAAMf,KAAK,GAAGgB,MAAM,CAACC,OAAP,CAAeN,KAAf,EACXO,MADW,CACJ;IAAA,IAAEL,GAAF;IAAA,OAAWA,GAAG,KAAK,UAAnB;GADI,EAEXM,GAFW,CAEP;IAAA,IAAEN,GAAF;QAAOC,KAAP;IAAA,YAAqBF,YAAY,CAACC,GAAD,EAAMC,KAAN,CAAjC;GAFO,EAGXM,IAHW,CAGN,OAHM,CAAd;EAIA,IAAMnB,OAAO,GAAGN,aAAa,CAAC;IAAEK,KAAK,EAAEA;GAAV,CAA7B;EAEA,IAAI,OAAOW,KAAK,CAACU,QAAb,IAAyB,UAA7B,EAAyC,OAAOC,mBAAA,MAAA,MAAA,EAAMX,KAAK,CAACU,QAAN,CAAepB,OAAf,CAAN,CAAP;EAEzC,IAAI,CAACA,OAAL,EAAc,OAAO,IAAP;EACd,OAAOqB,mBAAA,MAAA,MAAA,EAAMX,KAAK,CAACU,QAAZ,CAAP;AACD;;;;;"}